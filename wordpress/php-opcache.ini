# PHP OPcache Configuration
# Optimized for WordPress on Cloud Run
# Expected performance improvement: 40-50% faster PHP execution

[opcache]
# Enable OPcache
opcache.enable=1
opcache.enable_cli=0

# Memory settings (128MB shared across all workers)
opcache.memory_consumption=128
opcache.interned_strings_buffer=16
opcache.max_accelerated_files=10000

# Performance settings (production mode)
opcache.validate_timestamps=0
opcache.revalidate_freq=0
opcache.fast_shutdown=1

# WordPress compatibility
opcache.save_comments=1
opcache.load_comments=1

# Optimization level
opcache.optimization_level=0x7FFEBFFF

# Prevent memory exhaustion
opcache.max_wasted_percentage=5

# File cache (optional - reduces memory pressure)
; opcache.file_cache=/tmp/opcache
; opcache.file_cache_only=0
