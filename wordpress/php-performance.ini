# PHP Performance Configuration
# Optimized for WordPress on Cloud Run (1GB RAM, 2 vCPU)

# Memory limit per request (reduced from 256M)
# WordPress core needs ~64M, plugins may need more
# 128M is a good balance for most WordPress sites
memory_limit = 128M

# Upload settings (keep existing)
upload_max_filesize = 64M
post_max_size = 64M
file_uploads = On
upload_tmp_dir = /tmp

# Execution timeouts
max_execution_time = 60
max_input_time = 60
max_input_vars = 3000

# Performance optimizations
realpath_cache_size = 4096K
realpath_cache_ttl = 600

# Output buffering (reduces memory for large responses)
output_buffering = 4096

# Disable unnecessary features for production
expose_php = Off
display_errors = Off
display_startup_errors = Off
log_errors = On
error_log = /dev/stderr

# Session optimization
session.save_handler = files
session.save_path = /tmp
session.gc_probability = 1
session.gc_divisor = 100

# Zlib compression (reduces network transfer)
zlib.output_compression = On
zlib.output_compression_level = 6
